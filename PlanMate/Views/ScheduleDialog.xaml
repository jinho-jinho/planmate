<Window x:Class="PlanMate.Views.ScheduleDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:PlanMate.Converters"
        Title="시간표 추가/편집" Height="300" Width="300"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Window.Resources>
        <conv:DayOfWeekToKoreanConverter x:Key="DayOfWeekToKoreanConverter"/>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 요일 -->
            <RowDefinition Height="Auto"/>
            <!-- 시간 -->
            <RowDefinition Height="Auto"/>
            <!-- 제목 -->
            <RowDefinition Height="*"/>
            <!-- 버튼 -->
        </Grid.RowDefinitions>

        <!-- 요일 선택 -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="요일:" VerticalAlignment="Center" Width="50"/>
            <ComboBox ItemsSource="{Binding DaysOfWeek}"
                      SelectedItem="{Binding Day}"
                      Width="200">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Converter={StaticResource DayOfWeekToKoreanConverter}}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
        </StackPanel>

        <!-- 시작시간 / 종료시간 -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="시작:" VerticalAlignment="Center" Width="50"/>
            <ComboBox ItemsSource="{Binding TimeLabels}"
                      SelectedItem="{Binding StartTimeString}"
                      Width="90"/>
            <TextBlock Text="   종료:" VerticalAlignment="Center" Margin="10,0,0,0"/>
            <ComboBox ItemsSource="{Binding TimeLabels}"
                      SelectedItem="{Binding EndTimeString}"
                      Width="90"/>
        </StackPanel>

        <!-- 제목 입력 -->
        <StackPanel Orientation="Horizontal" Grid.Row="2" Margin="0,0,0,10">
            <TextBlock Text="제목:" VerticalAlignment="Center" Width="50"/>
            <TextBox Text="{Binding Title}" Width="200"/>
        </StackPanel>

        <!-- 확인/삭제/취소 버튼 -->
        <StackPanel Orientation="Horizontal" Grid.Row="3" HorizontalAlignment="Right">
            <!-- 삭제 버튼: 편집 모드일 때만 Visible -->
            <Button Content="삭제"
                    Width="60"
                    Margin="0,0,5,0"
                    Visibility="{Binding IsEditMode, Converter={StaticResource BoolToVisibilityConverter}}"
                    Command="{Binding DeleteCommand}"/>
            <Button Content="확인"
                    Width="60"
                    Margin="0,0,5,0"
                    Command="{Binding ConfirmCommand}"/>
            <Button Content="취소"
                    Width="60"
                    Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>